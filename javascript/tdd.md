# Javascript 패턴과 테스트

## 소프트웨어 공학의 원칙

### SOLID원칙
- Single Responsibility Principle(단일 책임 원칙)
- Open /Closed Principle(개방 / 폐쇄 원칙)
- Liskov Substitution Principle(리스크프 치환 원칙)
- Interface Segregation Principle(인테페이스 분리 원칙)
- Depoendency Inversion Principle(의존성 역전 원칙)

### 단일 책임 원칙

````
모든 클래스(자바스크립트 함수)는 반드시 한가지 변경 사유가 있어야 한다.
````

### 개방 폐쇄 원칙

````
모든 소프트웨어 개체는 확장 가능성은 열어 두되 수정 가능성은 닫아야 한다.

즉 어떤 경우라도 실행 코드를 변경하지 말고, 어떻게든(상속 등의 방법으로) 재사용하고 확장하라는 뜻
````

### 리스코프 치환 원칙

````
어떤 다입에서 파생된 타입의 객체가 있다면 이 타입을 사용하는 코드는 변경하지 말아야 한다.
다시 말해 한 객체를 다른 객체에서 파생하더라도 그 기본 로직이 변경되어서는 안된다는 뜻.
덕타이핑 역시 파생과는 조금 다르지만 이 원칙과 잘 들어맞는다.
````

### 인터페이스 분리 원칙

````
java, c#같은 언어에서 인터페이스란 클래스에서 어떤 기능을 '구현' 하지않고(명칭, 파라미터, 반환타입을) '서술'만 한 코드 조각이다.

기능이 많은 인터페이스는 더 작게 응축시킨 조각으로 나누어야 한다는 발상.
인터페이스 사용부는 '뚱뚱한' 전체가 아니라 아주 작은 인터페이스 하나만 바라보면 된다.

자바스크립트는 인터페이스가 없지만 함수가 기대하는 인자가 무엇인지 명확히 하고 그 기대치를 최소화해야 한다.
특정 인자를 바라기 보다는 이 타입에서 실제로 필요한 프로퍼티가 더러 있을 거라 기대 하는 것
````

### 의존성 역전 원칙

````
이 원칙도 인터페이스와 관련 있다.
상위 수준 모듈은 하위 수준 모듈에 의존해서는 안 되며 이 둘은 추상화에 의존해야 한다.
````

### DRY 원칙

````
즉 '반복하지 마라', '모든 지식 조각은 딱 한번만 나와야 한다'
SOLID원칙 중 일부가 DRY 원칙의 필연적 산물이다.
단일 책임 원칙이 그렇다.
````

## 바르게 유지되는 코드 작성하기

````
  '단위'란 특정 조건에서 어떻게 작동해야 할지 정의 하는것. 대개는 함수로 표현
  단위 테스트 본체에 작성한 코드는 '준비', '실행', '단언'의 패턴을 따른다.

  - 준비: 단위를 실행할 조건을 확실히 정하고 의존성 및 함수 입력 데이터를 설정
  - 실행: 준비단계에서 미리 설정한 입력값을 함수에 넘겨 실행
  - 단언: 미리 정한 조건에 따라 예상대로 단위가 작동하는지 확인, 단위가 함수인 테스트라면 예상한 값을 반환하는지 조사.
````

## 테스트 주도 개발을 실천하라

````
TDD(Test-Driven Development)에서는 애플리케이션 코드를 짜기 전에 이 코드가 통과해야 할 단위 테스트를 '먼저' 작성한다.

애플리케이션에 어떤 변화가 생길 때마다 다음 단계를 밟는다. 
변화란 완전히 새로운 기능을 추가하거나 기존 시스템을 고치고 버그를 잡는일

1. 완벽히 변경하면 성공하나 그렇게 되기 전까지는 반드시 실패하는 단위 테스트를 작성.
2. 테스트가 성공할 수 있을 만큼만 '최소한으로' 코딩
3. 애픞리케이션 코드를 리팩토링하며 중복 제거

이 세 단계를 '적색', '녹색', '리팩터'라고 줄여 말한다.
````